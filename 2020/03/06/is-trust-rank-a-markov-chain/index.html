<!DOCTYPE html>
<html lang="zh-CN,en,default">

<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.9.0">

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="A shelter for a lazy and terrible programmer, loving photograph and travelling!">
    

    <!--Author-->
    
        <meta name="author" content="Haoxuan (Horace) Wang">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="Is Trust Rank a Markov chain?">
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="A shelter for a lazy and terrible programmer, loving photograph and travelling!">
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="贝壳小屋">

    <!--Type page-->
    
        <meta property="og:type" content="article">
    

    <!--Page Cover-->
    

        <meta name="twitter:card" content="summary">
    

    <!-- Title -->
    
    <title>Is Trust Rank a Markov chain? - 贝壳小屋</title>

    <!-- Bootstrap Core CSS -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet">

    <!-- Google Analytics -->
    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-79915174-1', 'auto');
        ga('send', 'pageview');

    </script>



    <!-- favicon -->
    
	<!-- mathjax support for latex math -->
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
		inlineMath: [ ['$','$'], ["\\(","\\)"] ],
		displayMath: [ ["$$","$$"], ["\\[", "\\]"] ],
		processEscapes: true
      },
	  TeX: {
		Macros: {
		'\\_': '_'
        }
      }
    });
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
	 
	
</head>


<body>

    <!-- Menu -->
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Shell Cottage</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                
                    <li>
                        <a href="/">
                            
                                Home
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives">
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/categories">
                            
                                Categories
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/about">
                            
                                About ME
                            
                        </a>
                    </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

    <!-- Main Content -->
    <!-- Page Header -->
<!-- Set your background image for this header in your post front-matter: cover -->

<header class="intro-header" style="background-image: url('https://source.unsplash.com/category/nature/2000x800?dark'), url('https://api.towdium.me/unsplash/source/category/nature/2000x800?dark')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Is Trust Rank a Markov chain?</h1>
                    
                    <span class="meta">
                        <!-- Date and Author -->
                        
                            Posted by Haoxuan (Horace) on
                        
                        
                            2020-03-06
                        
                    </span>
                    <!-- Tags and categories -->
                  
                        <!--<div class="col-lg-4 col-lg-offset-2 col-md-5 col-md-offset-1 post-tags">-->

                        <div class="post-tags">
                            
                                


<a href="/tags/学术/">#学术</a>

                            
                        </div>
                      <!--  <div class="col-lg-4 col-md-5 post-categories">
                            
                                

<a href="/categories/coding/" style="float: right">coding</a>

                            
                        </div>-->
                    
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">



            <!-- Gallery -->
            

            <!-- Post Main Content -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <p>So literally this is a note for answering a <a href="https://www.zhihu.com/question/373709342" target="_blank" rel="noopener">Zhihu question</a> (the question itself is in Chinese), but hopefully, if it can help someone. The question asked why the “initial seeds” in Trust Rank could affect the final ranking results. Because we know that if it is a Markov chain, the final convergence value of a Markov process should only depending on the transition matrix, which normally considered as the link topology in between web pages (note this “which”, the question comes from here).</p>
<p>Probably this is a boring topic with no-body-care models, but still, we can have a quick discussion on this. Before start, I assume the reader has some basic knowledge in linear algebra, and know the basics about page rank and trust rank.</p>
<p>The short answer to this question: yes (if I do not make any mistakes), Trust Rank is a Markov chain, with the selected initial seed vector as an essential part to determine its transition matrix. </p>
<p>I would start with page rank to have uniformed math annotations and then move to trust rank very briefly. The Page Rank part comes from the <a href="http://statweb.stanford.edu/~tibs/sta306bfiles/pagerank/ryan/01-24-pr.pdf" target="_blank" rel="noopener">link</a>. </p>
<p><em>Credit to Prof. Ryan Tibshirani in Stanford</em></p>
<p>Suppose we have $n$ websites, then what a search engine does is to sort these $n$ websites. Assuming that $p_i$ is the score (weight) of the website, $p = \left(\begin{array}{cc} p_1 \\ p_2 \\ \vdots \\ p_n \\ \end{array} \right)$. Naturally, search engines can rank the websites according to this score $p$.</p>
<h2 id="Broken-Rank"><a href="#Broken-Rank" class="headerlink" title="Broken Rank"></a>Broken Rank</h2><p>A website with many incoming links is likely to be a good website (of course not absolute). So we define the link matrix as follows:</p>
<p>Let  $L_{ij} = \begin{cases}     1, \text{there is link from website $j$ pointing to website $i$}\\     0, \text{otherwise} \end{cases}$,<br>$ L =  \left( \begin{array}{cc} L_{11} &amp; L_{12} &amp;  \dots &amp; L_{1n} \\ L_{21} &amp; L_{22} &amp;  \dots &amp; L_{2n} \\ \vdots \\ L_{n1} &amp; L_{n2} &amp;  \dots &amp; L_{nn} \\ \end{array} \right)$</p>
<p>Let $m_j = \sum_{k = 1}^j L_{kj}$, i.e. all outbound links for site $j$, $M =  \left(   \begin{array}{cc} m_1 &amp; 0 &amp;  \dots &amp; 0 \\ 0 &amp; m_2 &amp;  \dots &amp; 0 \\ \vdots \\ 0 &amp; 0 &amp;  \dots &amp; m_n \\ \end{array} \right)$</p>
<p>We can think of the weight $p_i$ of a website as the sum of the weights of the contributions of other websites to this website $i$, or the probability of jumping from other websites to this website. The weight of the contribution of other sites $j$ to this site $i$ can be simply deemed as $\frac{L_{ij}}{m_j} p_j$, that is, the ratio of this $L_{ij}$ link to all outbound links of site $j$ multiplied by the site $j$ ’s score. So we can recursively calculate $p_i = \sum_{j = 1}^{n} \frac{L_{ij}}{m_j} p_j$, and this can be written in matrix form $p = LM^{-1} p$</p>
<p>If we let $A = LM^{-1}$, the equation above can be written as $p = Ap$. We can also find in this equation that $p$ as the eigenvector of matrix $A$ when the eigenvalue is $1$. This equation can of course also be treated as a Markov chain. If we define $P(\text{go from } j \text{ to } i) = P_{ij}$, we have $A_ {ij} = L_{ij} / m_j$ i.e. $P_{ij} = \begin{cases} 1 / m_j, \text{if site } j \text{ has a link to } i \\ 0, \text{otherwise} \end{cases}$. Then $p^{(i + 1)}$ = $Ap^{(i)}$ and $A$ is the transition matrix. <strong>Note that here we are assuming that users click on links in a uniformly distributed way, or say, in a random way.</strong></p>
<p>As we all know (or you may not know), the linking graph of the Internet is not strongly connected (octopus model), that is, some of the websites are self-contained, i.e. they have no links to external websites; and in some cases, some websites are incoming only or outgoing only. When the graph is not strongly connected, the solution for the eigenvector of the matrix $A$ given the eigenvalue of 1 is non-unique. (There is an example on Stanford’s slide… but I am not going to copy it here…)</p>
<h2 id="Page-Rank"><a href="#Page-Rank" class="headerlink" title="Page Rank"></a>Page Rank</h2><p>What we can do to fix the issue in our “Broken Rank” is to assume that there is a small probability that the user may not jump to a new website through the outgoing link of the current website, but enter directly from the address bar. This allows that any websites can be reached directly and hence fixes the non-strong connectivity graph problem in the Broken Rank. The improved algorithm has a famous name called Page Rank. Broken Rank’s $p$ is calculated as follows: $p_i = \sum_{j = 1}^{n}\frac{L_{ij}}{m_j} p_j$, and the Page Rank correction for $p$ is $p_i = \frac{\left(1-d \right)}{n} + d \sum_{j = 1}^{n}\frac{L_{ij}}{m_j} p_j$, where $d$ is a constant less than $1$ and greater than $0$. Write it in matrix form: $p = (\frac{1-d}{n}E + dLM^{-1}) p$, where $E$ is an all $1$ matrix of size $n \times n$. The matrix form holds obviously. Because if we treat $p$ as a (discrete) probability distribution, then $Ep = \left(\begin{array}{cc} 1 \\ 1 \\ \vdots \\ 1 \end{array} \right) \stackrel{def}{=} e $. Here we define a $n \times 1$ all $1$ vector, $e$.<br>We can still think of the above equation as $p^{(i + 1)} = Ap^{(i)}$, but here the “new” $A_{\text{page rank}}$ is slightly changed compared with the $A_{\text{broken rank}}$ in the Broken Rank.</p>
<h2 id="Trust-Rank"><a href="#Trust-Rank" class="headerlink" title="Trust Rank"></a>Trust Rank</h2><p>Sorry for my long rambling, and the boring copying &amp; pasting above.  Finally, we could mention the Trust Rank. Still, I think those rambling is essential because it is important to unify the math symbols. Honestly, I have not read the Trust Rank paper carefully, so I would sincerely apologize for any mistakes or omissions below :)</p>
<p>The original papers of Trust Rank and almost all articles mentioning Trust Rank on Internet will use the following equation (in matrix form):$p = (1-d)t + dLM^{-1} p$, where $t$ is the seed vector, and other parts of the equation are same as the equation defined in Page Rank above. Here I am not going to explore how the $t$ vector comes. (well, I did not take a closer look… TBH.)<br>A fact is that we know $t^{t} E = e^{t}$. (Because the sum of the components of the seed vector $t$ is also $1$. Here the superscript $^{t}$ means transpose, for clear.)<br>Hence,<br>$$<br>p = (1 - d) t (e^t e / n) + dLM^{-1} p \\<br>p =\frac{(1 - d)}{n} t t^t E E p + dLM^{-1} p \\<br>p =(\frac{(1 - d)}{n} t t^t E E  + dLM^{-1}) p \\<br>p =((1 - d) t t^t E + dLM^{-1}) p \\<br>p =((1 - d) t e^t + dLM^{-1}) p<br>$$<br>Obviously, for Trust Rank, we can also write the equation as $p^{(i + 1)}= A p^{(i)}$ ，and the value of $A$ needs to be determined by $t$.</p>


                
            </div>

            <!-- Comments -->
            
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    




    <hr />
      <h3>留言:</h3>
    <div id="container"></div>
  <script src="https://cdn.jsdelivr.net/gh/theme-next/theme-next-gitment@1/gitment.browser.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/theme-next/theme-next-gitment@1/default.css"/>
  <script>
  var gitment = new Gitment({
    id: 'Fri Mar 06 2020 22:00:00 GMT+0000',
    owner: 'billweasley',
    repo: 'billweasley.github.io',
    oauth: {
      client_id: '06199a23a20db6cd355e',
      client_secret: 'd58c16c76ab1b84dc65f24c25edcbc3974cc0a49',
    },
  })
  gitment.render('container')
  </script>


                </div>
            
        </div>
    </div>
</article>


    <!-- Footer -->
    <hr />

<!-- Footer -->
<footer>
    <div class="container">
            
            <div class="row">
             <h5 class="text-center">Friends</h5>
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                   
                        <li>
                            <a href="https://www.towdium.me/" target="_blank" style="text-decoration: none">
                                Towdium
                            </a>
                        </li>
                
                </ul>
            </div>
            </div>
            <hr />
            
        

        <div class="row">
            <h5 class="text-center">Contact Me</h5>
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                
                <ul class="list-inline text-center">
                    

                    

                    
                        <li>
                            <a href="https://github.com/billweasley" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    
                        <li>
                            <a href="https://www.linkedin.com/in/horace-haoxuan-wang" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    
                        <li>
                            <a href="mailto:billweasley20092@gmail.com" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-envelope-o fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    
                </ul>
                
                <p class="copyright text-muted">&copy; 2020 Haoxuan (Horace) Wang<br></p>
                <p class="copyright text-muted">Original Theme <a target="_blank" href="http://startbootstrap.com/template-overviews/clean-blog/">Clean Blog</a> from <a href="http://startbootstrap.com/" target="_blank">Start Bootstrap</a></p>
                <p class="copyright text-muted">Adapted for <a target="_blank" href="https://hexo.io/">Hexo</a> by <a href="http://www.codeblocq.com/" target="_blank">Jonathan Klughertz</a></p>
            </div>
        </div>
    </div>
</footer>

    <!-- After footer scripts -->
    
<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Bootstrap -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->



</body>

</html>